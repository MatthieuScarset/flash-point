# strategy.yaml

# -----------------------------------------------------------------------------
# A central library of all possible block types. Game modes will pick from here.
# -----------------------------------------------------------------------------
block_library:
  stable_hex:
    label: 'stable_hex'
    shape: 'polygon'
    sides: 6
    radius: 36
    friction: 0.9
    restitution: 0.1
    render: { fillStyle: '#4A90E2' } # Blue
  volatile_hex:
    label: 'volatile_hex'
    shape: 'polygon'
    sides: 6
    radius: 24
    friction: 0.1
    restitution: 0.7
    render: { fillStyle: '#E94E77' } # Red
  heavy_square:
    label: 'heavy_square'
    shape: 'rectangle'
    width: 64
    height: 64
    mass: 10 # Heavier than default
    friction: 0.7
    restitution: 0.05
    render: { fillStyle: '#6D28D9' } # Purple

# -----------------------------------------------------------------------------
# Defines the initial state of the player's platform for a given game mode.
# If a game mode doesn't have a start condition, it will be empty.
# -----------------------------------------------------------------------------
start_conditions:
  default_start:
    - block_id: 'volatile_hex'
      position: { x: '50%', y: '0%' } # Use percentages (relative to scene width/height)
    - block_id: 'stable_hex'
      position: { x: '50%', y: '60%' }
    - block_id: 'heavy_square'
      position: { x: '50%', y: '70%' }
    - block_id: 'heavy_square'
      position: { x: '50%', y: '100%' }

# -----------------------------------------------------------------------------
# A list of all playable game modes.
# -----------------------------------------------------------------------------
game_modes:
  - id: 'collaborative_stacking'
    name: 'Collaborative Stacking'
    description: 'Team up with another player! Take turns placing blocks to build the tallest tower together.'
    multiplayer: true
    player_count: 2
    turn_based: true
    start_condition: 'default_start'
    rules:
      session_duration: 30
      turn_duration: 5
      win_condition:
        type: 'max_height'
    spawner:
      base_rate: 1.0
      max_blocks: 20
      blocks_per_turn: 1
      allowed_blocks: ['stable_hex', 'volatile_hex', 'heavy_square']

  - id: 'training_mode'
    name: 'Training Mode'
    description: 'Practice your stacking skills solo. No pressure, just you and the blocks!'
    multiplayer: false
    player_count: 1
    start_condition: null
    rules:
      session_duration: 60
      win_condition:
        type: 'max_height'
    spawner:
      base_rate: 1.5
      max_blocks: 15
      allowed_blocks: ['stable_hex', 'volatile_hex', 'heavy_square']

# -----------------------------------------------------------------------------
# The game mode to load when the app starts.
# -----------------------------------------------------------------------------
active_game_mode: 'training_mode'